<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NCAA Next Dynasty Tracker</title>
  </head>
  <body>
    <script>
      // GitHub Pages SPA fallback:
      // 1) Support the older ?p=... redirect style (if present)
      // 2) Support the robust sessionStorage redirect style (recommended)
      (function () {
        // (A) sessionStorage-based redirect (most reliable for deep routes)
        var redirect = sessionStorage.getItem("redirect");
        if (redirect) {
          sessionStorage.removeItem("redirect");
          try {
            var url = new URL(redirect);
            if (url.origin === window.location.origin) {
              window.history.replaceState(
                null,
                "",
                url.pathname + url.search + url.hash
              );
              return;
            }
          } catch (e) {
            // ignore and fall through
          }
        }

        // (B) legacy query-param redirect (?p=...)
        var params = new URLSearchParams(window.location.search);
        var p = params.get("p");
        if (p) {
          params.delete("p");
          var newUrl = p + (params.toString() ? "?" + params.toString() : "");
          window.history.replaceState(null, "", newUrl);
        }
      })();
    </script>

    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
